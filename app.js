const randomX=random(-400,400),randomY=random(-200,200),randomDelay=random(0,50),randomTime=random(20,40),randomTime2=random(5,12),randomAngle=random(-30,150),blurs=gsap.utils.toArray(".blur");function rotate(e,t){gsap.to(e,randomTime2(),{rotation:randomAngle(t),ease:Sine.easeInOut,onComplete:rotate,onCompleteParams:[e,-1*t]})}function moveX(e,t){gsap.to(e,randomTime(),{x:randomX(t),ease:Sine.easeInOut,onComplete:moveX,onCompleteParams:[e,-1*t]})}function moveY(e,t){gsap.to(e,randomTime(),{y:randomY(t),ease:Sine.easeInOut,onComplete:moveY,onCompleteParams:[e,-1*t]})}function random(t,e){var a=e-t;return(e=1)=>(t+a*Math.random())*e}blurs.forEach(e=>{gsap.set(e,{x:randomX(-1),y:randomX(1),rotation:randomAngle(-1)}),moveX(e,1),moveY(e,-1),rotate(e,1)}),$(function(){"use strict";$("#contact-form")[0].reset(),gsap.registerPlugin(ScrollTrigger);var e=document.querySelector("body");const t=imagesLoaded(e);t.on("done",e=>{document.getElementById("loaderContent").classList.add("fade-out"),setTimeout(()=>{document.getElementById("loader").classList.add("loaded")},300),gsap.set(".animate-headline",{y:50,opacity:0}),ScrollTrigger.batch(".animate-headline",{interval:.1,batchMax:4,duration:6,onEnter:e=>gsap.to(e,{opacity:1,y:0,ease:"sine",stagger:{each:.15,grid:[1,4]},overwrite:!0}),onLeave:e=>gsap.set(e,{opacity:1,y:0,overwrite:!0}),onEnterBack:e=>gsap.to(e,{opacity:1,y:0,stagger:.15,overwrite:!0}),onLeaveBack:e=>gsap.set(e,{opacity:0,y:50,overwrite:!0})})});new bootstrap.ScrollSpy(document.body,{target:"#menu",smoothScroll:!0,rootMargin:"0px 0px -40%"});const a=new Lenis;requestAnimationFrame(function e(t){a.raf(t),requestAnimationFrame(e)}),gsap.to("[data-speed]",{y:(e,t)=>(1-parseFloat(t.getAttribute("data-speed")))*ScrollTrigger.maxScroll(window),ease:"none",scrollTrigger:{start:0,end:"max",invalidateOnRefresh:!0,scrub:0}});const r=document.querySelectorAll(".animate-in-up");r.forEach(e=>{gsap.fromTo(e,{opacity:0,y:50,ease:"sine"},{y:0,opacity:1,scrollTrigger:{trigger:e,toggleActions:"play none none reverse"}})});const o=document.querySelectorAll(".animate-rotation");o.forEach(e=>{var t=$(e).data("value");gsap.fromTo(e,{ease:"sine",rotate:0},{rotate:t,scrollTrigger:{trigger:e,scrub:!0,toggleActions:"play none none reverse"}})}),gsap.set(".animate-card-2",{y:100,opacity:0}),ScrollTrigger.batch(".animate-card-2",{interval:.1,batchMax:2,duration:6,onEnter:e=>gsap.to(e,{opacity:1,y:0,ease:"sine",stagger:{each:.15,grid:[1,2]},overwrite:!0}),onLeave:e=>gsap.set(e,{opacity:1,y:0,overwrite:!0}),onEnterBack:e=>gsap.to(e,{opacity:1,y:0,stagger:.15,overwrite:!0}),onLeaveBack:e=>gsap.set(e,{opacity:0,y:100,overwrite:!0})}),gsap.set(".animate-card-3",{y:50,opacity:0}),ScrollTrigger.batch(".animate-card-3",{interval:.1,batchMax:3,duration:3,onEnter:e=>gsap.to(e,{opacity:1,y:0,ease:"sine",stagger:{each:.15,grid:[1,3]},overwrite:!0}),onLeave:e=>gsap.set(e,{opacity:1,y:0,overwrite:!0}),onEnterBack:e=>gsap.to(e,{opacity:1,y:0,stagger:.15,overwrite:!0}),onLeaveBack:e=>gsap.set(e,{opacity:0,y:50,overwrite:!0})}),gsap.set(".animate-card-5",{y:50,opacity:0}),ScrollTrigger.batch(".animate-card-5",{interval:.1,batchMax:5,delay:1e3,onEnter:e=>gsap.to(e,{opacity:1,y:0,ease:"sine",stagger:{each:.15,grid:[1,5]},overwrite:!0}),onLeave:e=>gsap.set(e,{opacity:1,y:0,overwrite:!0}),onEnterBack:e=>gsap.to(e,{opacity:1,y:0,stagger:.15,overwrite:!0}),onLeaveBack:e=>gsap.set(e,{opacity:0,y:50,overwrite:!0})}),ScrollTrigger.addEventListener("refreshInit",()=>gsap.set(".animate-card-2",{y:0,opacity:1})),ScrollTrigger.addEventListener("refreshInit",()=>gsap.set(".animate-card-3",{y:0,opacity:1})),ScrollTrigger.addEventListener("refreshInit",()=>gsap.set(".animate-card-5",{y:0,opacity:1})),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(e){var t;location.pathname.replace(/^\//,"")!=this.pathname.replace(/^\//,"")||location.hostname!=this.hostname||(t=(t=$(this.hash)).length?t:$("[name="+this.hash.slice(1)+"]")).length&&(e.preventDefault(),$("html, body").animate({scrollTop:t.offset().top},1e3,function(){var e=$(t);if(e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus()}))});e=document.querySelector("tools-slider"),document.querySelector("ftatqs-slider");e||new Swiper(".swiper-tools",{spaceBetween:20,autoplay:{delay:1500,disableOnInteraction:!1},loop:!0,grabCursor:!0,loopFillGroupWithBlank:!0,breakpoints:{1600:{slidesPerView:5},1200:{slidesPerView:4},768:{slidesPerView:3},576:{slidesPerView:2},0:{slidesPerView:2}},pagination:{el:".swiper-pagination",clickable:!0}}),e||new Swiper(".swiper-ftatqs",{slidesPerView:1,spaceBetween:20,autoplay:!0,speed:1e3,loop:!0,loopFillGroupWithBlank:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),$("#contact-form").submit(function(e){return e.preventDefault(),e.stopPropagation(),!1}),Modernizr.svg||$("img[src*='svg']").attr("src",function(){return $(this).attr("src").replace(".svg",".png")});try{$.browserSelector(),$("html").hasClass("chrome")&&$.smoothScroll()}catch(e){}$("img, a").on("dragstart",function(e){e.preventDefault()});/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?$("html").addClass("touch"):$("html").addClass("no-touch"),/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/MSIE 10/i.test(navigator.userAgent)||/Edge\/\d+/.test(navigator.userAgent);$(".gallery__link").each(function(){$(this).append('<div class="picture"></div>').children(".picture").css({"background-image":"url("+$(this).attr("data-image")+")"})}),$("#contact-form input, #contact-form textarea").blur(function(){var e=encodeURIComponent($.trim($('#contact-form [name="Name"]').val())+", "+$.trim($('#contact-form [name="Company"]').val()));", "==e&&(e="");var t=encodeURIComponent($.trim(document.querySelector('textarea[name="Message"]').value));$("#submit_mail").attr("href","mailto:team@tokkialliance.com?subject="+e+"&body="+encodeURIComponent(t))})});